@@include('../../inc/layout/top.html')
<div id="wrap" class="wrap">
  @@include('../../inc/layout/header.html')
  @@include('../../inc/layout/nav.html')
  <main id="content" class="container">
    @@include('../../inc/snb/work.html')
    <section class="contents">
      @@include('../../inc/snb/snb_fold.html')
      <header class="cont_tit">
        <h1>업무요청<span>업무 공유함</span></h1>
        <section class="bredcrumb">
          <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">업무</a></li>
            <li><a href="#">업무 공유함</a></li>
            <li><a href="#">업무요청</a></li>
            <li>업무요청 작성</li>
          </ul>
        </section>
      </header>
      <div class="cont_body">
        <article class="box_compact box_tool">
          <button type="button" class="btn_gray_line">목록</button>
          <span class="floatR">
            <button type="button" class="btn_red">수락</button>
            <button type="button" class="btn_red_line">반려</button>
          </span>
        </article>
        <div class="work_new">
          <section class="work_form">
            <article class="box_default_w">
              <dl class="set_list work_info">
                <dt><label for="work_type" class="required">업무구분</label></dt>
                <dd>
                  <select name="work_type" id="work_type" data-selectEvt="work_type_">
                    <option value="업무구분 선택">업무구분 선택</option>
                    <option value="proj">프로젝트</option>
                    <option value="per">개인업무</option>
                    <option value="etc">기타</option>
                  </select>
                  <div id="work_type_proj" data-selectTarget>
                    <span class="file_input">
                      <select id="work_project" name="work_project">
                        <option value="사업자 분류">사업자 분류</option>
                      </select>
                      <select title="기관선택">
                        <option value="기관 선택">기관 선택</option>
                      </select>
                      <input type="text" id="" placeholder="프로젝트명을 입력하세요." list="projectList" autocomplete="off">
                      @@include('../../inc/data/data_project_name.html')
                    </span>                  
                  </div>
                </dd>
                
                <dt><label for="work_range" class="required">업무범주</label></dt>
                <dd>
                  <span class="file_input">
                    <select id="nameSelect">
                      <option value="업무범주를 선택하세요" disabled selected>업무범주를 선택하세요</option>
                    </select>
                  </span>
                  <div id="tagsList"></div>
                </dd>
                <!-- <dt>회의요청</dt>
                <dd>
                  <span class="file_input">
                    <span class="btn_switch_single">
                      <label class="btn btn_default">회의요청
                        <input type="checkbox" class="meeting_request">
                      </label>
                    </span>
                    <div class="period_custom">
                      <input type="time" name="start_time" title="시작시간">
                      <input type="time" title="종료시간" name="end_time">
                    </div>
                  </span>
                </dd> -->
                <dt class="required"><label for="work_period" class="required">업무기간</label></dt>
                <dd>
                  <span class="file_input">
                    <div class="period_custom">
                      <input type="date" title="시작일" data-type="from" id="start_date" name="start-date" min="0000-01-01"
                        max="9999-12-31">
                      <input type="date" title="종료일" data-type="to" id="end_date" name="end-date" min="0000-01-01"
                        max="9999-12-31">
                    </div>
                  </span>
                </dd>
                <dt><span class="required">중요도</span></dt>
                <dd>
                  <div class="btn_switch">
                    <input type="radio" id="high" name="importance">
                    <label for="high" class="high_prio">높음</label>
                    <input type="radio" id="common" name="importance" checked>
                    <label for="common" class="normal_prio">보통</label>
                    <input type="radio" id="row" name="importance">
                    <label for="row" class="low_prio">낮음</label>
                  </div>
                </dd>
                <dt><label for="work_title" class="required">제목</label></dt>
                <dd><span class="file_input"><input type="text" id="work_title" title="업무 제목 입력 박스"
                      value="PEWS 관련 회의 요청드립니다"></span></dd>
              </dl>
              <div class="editor_wrap" id="editor_wrap">
                <textarea name="editor" id="editor" title="에디터 영역"></textarea>
              </div>
            </article>
          </section>
          <article class="approval_set work_set">
            <section class="box_default_w">
              <h1>수신자 지정</h1>
              <span class="file_input">
                <input type="text" id="form_referrer" placeholder="참조자를 입력하세요." list="nameList" autocomplete="off">
                @@include('../../inc/data/data_emp_name.html')
                <button type="button" class="btn_ogt btnMngTree">조직도</button>
                <button type="button" class="btn_red_line">저장</button>
                <button type="button" class="btn_red_line" disabled>저장</button>
              </span>
              @@include('../../inc/module/module_slide_user.html')
            </section>
            <section class="box_default_w">
              <h1>참조자 지정</h1>
              <span class="file_input">
                <input type="text" id="form_referrer" placeholder="참조자를 입력하세요." list="nameList" autocomplete="off">
                @@include('../../inc/data/data_emp_name.html')
                <button type="button" class="btn_ogt btnMngTree">조직도</button>
                <button type="button" class="btn_red_line">저장</button>
                <button type="button" class="btn_red_line" disabled>저장</button>
              </span>
              @@include('../../inc/module/module_slide_user.html')
            </section>
            <section class="box_default_w">
              <h1>첨부파일</h1>
              @@include('../../inc/module/module_file_attach.html')
            </section>
          </article>
        </div>
      </div>
    </section>
  </main>
  @@include('../../inc/layout/footer.html')
</div>

@@include('../../inc/layout/script.html')
<script>
  $(function () {
    // 업무 관리 업무범주 랜덤 색상 태그
    const initialNamesB = ['개발', '장애처리', '디자인', '회의', '업무지원', '연구활동', '기타'];
    initializeTagManager('tagsList', 'nameSelect', initialNamesB);

    setEditor();// editor common
    fileDropEvt();
  })
  var tribute = new Tribute({
    trigger: "@",
    values: [
      { key: "1", value: "김개발" },
      { key: "2", value: "김연구 연구기획 1팀" }
    ],
    selectTemplate: function (item) {
      return `<span contenteditable="false"><a title="${item.original.key}">@${item.original.value}</a></span>&nbsp;`;
    },
    menuItemTemplate: function (item) {
      return `${item.original.value}`;
    }
  });
  tribute.attach(document.querySelectorAll(".editable"));
</script>
</body>

</html>