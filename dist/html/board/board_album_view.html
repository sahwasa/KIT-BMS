<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,minimum-scale=0.5, maximum-scale=5">
  <link rel="icon" href="../../images/favicon.ico" type="image/x-icon" />
  <title>KIT 업무관리시스템</title>
  <link rel="stylesheet" href="../../font/fontello/css/fontello.css">
  <link rel="stylesheet" href="../../plugins/tui-image-editor/tui-color-picker.css">
  <link rel="stylesheet" href="../../plugins/tui-image-editor/tui-image-editor.css">
  <link rel="stylesheet" href="../../css/merge.css">
</head>
<body>

<div id="wrap" class="wrap">
  <!-- 바로가기 메뉴 -->
<div id="accessibility">
  <a href="#contents">본문 바로가기</a>
  <a href="#nav">주메뉴 바로가기</a>
</div>
<hr />
<!--// 바로가기 메뉴 -->
<header class="header">
  <h1>
    <a href="#">
      <span class="logo">KITVALLEY</span>
      업무관리시스템
    </a>
  </h1>    
  <section class="gnb">
    <ul class="gnb_lst">
      <li><a onclick="document.getElementById('p_org_chart').showModal();" title="조직도">조직도</a></li>
      <li><a onclick="document.getElementById('p_seating_chart').showModal();" title="자리배치도">자리배치도</a></li>
      <li><a href="#" title="통합알림" id="my_alert">통합알림</a><i class="new_bedge">8</i></li>
      <li><a href="http://boss2.kitvalley.com:8002/" target="_blank" title="관리자시스템">관리자시스템</a></li>
    </ul>
    <div class="util">
    <div class="profile">
        <button type="button" class="account">
          <img src="../../images/ic_user.png" width="32px" height="32px" alt="프로필사진">
          <strong>
            <b>관리자님</b>
            <span>기상/기후개발팀</span>
          </strong>
        </button>
        <div class="my_layer">
          <ul class="my_svc">
            <li><a href="../home/user_info.html">내정보</a></li>
            <li><a href="#">웹메일</a></li>
            <li><a href="http://192.168.5.10/" target="_blank">웹클라우드</a></li>
            <li><a href="#">로그아웃</a></li>
          </ul>
        </div>
      </div>
    </div>
  </section>
</header>
  <nav id="nav" class="nav">
  <h1 class="blind">메뉴</h1>
  <ul class="nav_lst">
    <li class="on"><a href="../../html/home/main.html">HOME</a></li>
    <li><a href="../../html/message/message.html">사내쪽지</a></li>
    <li><a href="../../html/approval/approval.html">전자결재</a></li>
    <li><a href="../../html/planner/plan.html">일정</a></li>
    <li><a href="../../html/project/projectList.html">프로젝트</a></li>
    <li><a href="../../html/work/work.html">업무</a></li>
    <li><a href="../../html/svc/svc.html">사내 서비스</a></li>
    <li><a href="../../html/erp/erp.html">ERP</a></li>
    <li><a href="../../html/board/board.html">게시판</a></li>
    <li><a href="../../html/home/pop.html">팝업샘플</a></li>
    <!-- <li class="disabled"><a href="http://boss2.kitvalley.com/" target="_blank" title="새창열림">관리자</a></li> -->
  </ul>
</nav>
  <main id="content" class="container">
    <section class="snb">
  <div class="snb_container">
    <header>
      <h2><a href="board.html">게시판</a></h2>
    </header>
    <div class="btn_workset">
      <a href="#" class="btn_default" onclick="location.href='board_write.html'">게시글 등록</a>
    </div>
    <ul class="snb_lst">
      <li><a href="#">공지사항</a>
        <ul>
          <li><a href="board_internal.html">사내공지<em>1</em></a></li>
          <li><a href="">경조사</a></li>
          <li><a href="">자료실</a></li>
          <li><a href="board_photo.html">사진첩</a></li>
        </ul>
      </li>
      <!-- <li><a href="#">동호회 게시판</a>
        <ul>
          <li><a href="#">산악동호회</a></li>
        </ul>
      </li> -->
    </ul>
  </div>
</section>
    <section class="contents">
      <a href="#" class="evt_tgl snb_fold" data-value="off" data-on="열기" data-off=
"닫기" title="닫기">닫기</a>
      <header class="cont_tit">
        <h1>사진첩<span>게시판</span></h1>
        <section class="bredcrumb">
          <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">게시판</a></li>
            <li>사진첩</li>
          </ul>
        </section>
      </header>
      <div class="cont_body">
        <article class="box_compact box_tool">
          <a href="board_photo.html" class="btn_gray_line">목록</a>
          <span class="floatR btn_wrap" id="selMode_off" data-tglwrap>
            <div class="btn_file_wrap">
              <input id="attachFiles" type="file" data-attach="doc" name="file" title="파일첨부하기" class="btn_file" multiple>
              <button type="button" class="btn_red">사진추가</button>
            </div>
            <button type="button" class="btn_gray_line" data-toggle="selMode_on" data-clickEvt="selMode_on">선택</button>
            <button type="button" class="btn_gray_line">앨범삭제</button>
          </span>
          <div class="floatR btn_wrap" id="selMode_on" data-tglwrap>
            <p><strong id="sel_count" class="t_red">0</strong>장의 사진이 선택되었습니다.</p>
            <button type="button" class="btn_red_line" data-clickEvt="sel_release">선택해제</button>
            <button type="button" class="btn_red">다운로드</button>
<dialog class="p_moveGroup">
  <form method="dialog">
    <div class="p_header">
      <strong>명함 그룹이동</strong>
      <button class="btnClose ico_org cancel" aria-label="close">닫기</button>
    </div>
    <div class="p_body">
      <div class="p_body_tit">
        <h1><label for="">그룹선택</label></h1>
      </div>
      <select id="">
        <option value="이동할 그룹">이동할 그룹선택</option>
      </select>      
      <div class="btn_wrap">
        <button class="btn_red" type="button">적용</button>
        <button class="btn_gray_line" type="button">취소</button>
      </div>
    </div>
  </form>
</dialog>
            <button type="button" class="btn_red_line" onclick="document.querySelector('.p_moveAlbum').showModal();">이동?</button>
            <button type="button" class="btn_red_line">삭제</button>
            <button type="button" class="btn_gray_line" data-toggle="selMode_off" data-clickEvt="selMode_off">나가기</button>
          </div>
        </article>
        <div class="post_wrap">
          <section class="post">
            <article class="box_default_w">
              <div class="tit">
                <h1>2024년 시무식<em class="count">12</em></h1>
              </div>
              <div class="album_view">
                <ul class="attach_list album_lst">
                  <li>
                    <input type="checkbox" class="check_circle">
                    <a href="#" id="photo01">
                      <img src="https://picsum.photos/1200/1500?random=1">
                      1</a>
                  </li>
                  <li>
                    <input type="checkbox" class="check_circle">
                    <a href="#">
                      <img src="https://picsum.photos/500/200?random=2">
                      2</a>
                  </li>               
                  <li>
                    <input type="checkbox" class="check_circle">
                    <a href="#">
                      <img src="https://picsum.photos/200/300?random=3">
                      3</a>
                  </li>
                  <li>
                    <input type="checkbox" class="check_circle">
                    <a href="#">
                      <img src="https://picsum.photos/200/300?random=4">
                      4</a>
                  </li>
                  <li>
                    <input type="checkbox" class="check_circle">
                    <a href="#">
                      <img src="https://picsum.photos/200/300?random=5">
                      나는 2023년 6월 30일 금요일에 작성된 어딘가 모르게 겁나긴 제목의 첨부파일.pptx</a>
                  </li>
                  <li>
                    <input type="checkbox" class="check_circle">
                    <a href="#">
                      <img src="https://picsum.photos/200/300?random=6">
                      첨부파일 문서2.jpeg</a>
                  </li>
                  <li>
                    <input type="checkbox" class="check_circle">
                    <a href="#">
                      <img src="https://picsum.photos/200/300?random=7">
                      나는 2023년 6월 30일 금요일에 작성된 어딘가 모르게 겁나긴 제목의 첨부파일.pptx</a>
                  </li>
                  <li>
                    <input type="checkbox" class="check_circle">
                    <a href="#">
                      <img src="https://picsum.photos/200/300?random=8">
                      첨부파일 문서2.jpeg</a>
                  </li>
                  <li>
                    <input type="checkbox" class="check_circle">
                    <a href="#">
                      <img src="https://picsum.photos/200/300?random=9">
                      나는 2023년 6월 30일 금요일에 작성된 어딘가 모르게 겁나긴 제목의 첨부파일.pptx</a>
                  </li>
                  <li>
                    <input type="checkbox" class="check_circle">
                    <a href="#">
                      <img src="https://picsum.photos/200/300?random=10">
                      첨부파일 문서2.jpeg</a>
                  </li>
                  <li>
                    <input type="checkbox" class="check_circle">
                    <a href="#">
                      <img src="https://picsum.photos/200/300?random=11">
                      나는 2023년 6월 30일 금요일에 작성된 어딘가 모르게 겁나긴 제목의 첨부파일.pptx</a>
                  </li>
                  <li>
                    <input type="checkbox" class="check_circle">
                    <a href="#">
                      <img src="https://picsum.photos/200/300?random=12">
                      첨부파일 문서2.jpeg</a>
                  </li>
                </ul>
              </div>
            </article>
          </section>
        </div>
      </div>
    </section>
  </main>
  <footer class="footer">
  <strong class="connect">관리자 연락처 02-8004-9050</strong>
  <p class="copy">Copyright ⓒ2024 KITValley Co.,Ltd. All right reserved.</p>
</footer>
</div>
<dialog class="p_moveAlbum">
  <form method="dialog">
    <div class="p_header">
      <strong>앨범이동</strong>
      <button class="btnClose ico_org cancel" aria-label="close">닫기</button>
    </div>
    <div class="p_body">
      <div class="p_body_tit">
        <h1><label for="">앨범선택</label></h1>
      </div>
      <select id="">
        <option value="이동할 앨범">이동할 앨범선택</option>
      </select>      
      <div class="btn_wrap">
        <button class="btn_red" type="button">적용</button>
        <button class="btn_gray_line" type="button">취소</button>
      </div>
    </div>
  </form>
</dialog>
<script src="../../plugins/jquery.min.js"></script>
<script src="../../plugins/jquery-ui.min.js"></script>
<script src="../../plugins/jquery.MultiFile.js"></script>
<script src="../../plugins/ckeditor/build/ckeditor.js"></script>
<script src="../../plugins/tui-image-editor/fabric.min.js"></script>
<script src="../../plugins/tui-image-editor/tui-code-snippet.min.js"></script>
<script src="../../plugins/tui-image-editor/tui-color-picker.min.js"></script>
<script src="../../plugins/tui-image-editor/FileSaver.min.js"></script>
<script src="../../plugins/tui-image-editor/tui-image-editor.min.js"></script>
<script src="../../js/ui_cmmn.js"></script>
<script src="../../js/file_upload.js"></script>
<script src="../../js/message.js"></script>
<script src="../../plugins/tributejs/dist/tribute.min.js"></script>
<script>
//퍼블용
commonInit();
$('.tab').find('li:first').addClass('on')
$('.tab_container').find('.tab_contents:not(:first)').hide()
</script>
<dialog id="p_org_chart" class="p_org_chart">
  <form method="dialog">
    <header class="p_header">
      <strong>조직도</strong>
      <button class="btnClose ico_org cancel" aria-label="close">닫기</button>
    </header>
    <div class="p_body">
      <img src="../../images/asset/org.jpg" alt="조직도">
    </div>
  </form>
</dialog>
<dialog id="p_seating_chart" class="p_seating_chart">
  <form method="dialog">
    <header class="p_header">
      <strong>자리배치도</strong>
      <button class="btnClose ico_org cancel" aria-label="close">닫기</button>
    </header>
    <div class="p_body">
      <img src="../../images/asset/seating_chart.jpg" alt="자리배치도">
    </div>
  </form>
</dialog>

<script>
  $(function () {
    const list = $('.album_lst');
    $("[data-clickEvt]").on('click',function(e){
      var evt = e.target.dataset.clickevt;
      console.log(e.target.dataset)
      switch (evt) {
        case 'selMode_on':
           list.addClass('select_mode');          
          break;
        case 'selMode_off':
          list.find(':checkbox').prop('checked', false);
          list.removeClass('select_mode');                    
          break;
        default:
          list.find(':checkbox').prop('checked', false);
          break;
      }
      $('#sel_count').text('0');
    })
    list.off('click').on('click','a',function(){
        var source = $(this).children('img').attr('src');
        var caption = $(this).text();
        if($('#photoWrap').length === 0){
          var photoWrap = document.createElement('dialog')
              photoWrap.id = 'photoWrap'
              photoWrap.classList.add('photo_wrap');
              photoWrap.innerHTML = `
              <div class="flex_wrapper">
                <section class="photo_dtl">
                  <header class="p_header">
                    <div class="pageView">
                      <strong></strong>
                      <span class="total"></span>
                    </div>
                    <div class="tool">
                      <a href="" download class="btn btn_download" title="다운로드">다운로드</a>
                      <button class="btn btn_del" title="삭제">삭제</button>
                      <button class="btn btnClose cancel" title="닫기">닫기</button>
                    </div>
                  </header>
                  <div class="p_body">
                    <div class="viewer">                  
                      <figure class="photo_view">
                        <img id="photo" />
                        <figcaption></figcaption>
                      </figure>
                      <div class="remote">
                        <button class="btn_prev" type="button" title="이전">이전</button>
                        <button class="btn_next" type="button" title="다음">다음</button>                      
                      </div>
                    </div>
                  </div>
                </section>
                <aside>
                  <div class="post_writer">
                    <div class="user_module">
                      <figure class="user_photo"><img src="../../images/ic_user.png" alt="" loading="lazy"></figure> 
                      <strong>
                        <em>홍OO 연구원</em><b>(재난예경보MA팀)</b>                      
                        <div class="date">2023-05-01 12:34:54</div>
                      </strong>
                    </div>
                  </div>
                  <section class="cmt_area">                    
                    <ul class="cmt_lst">
                      <li>
                        <div class="cmt_user">
                          <div class="user_module">
  <figure class="user_photo"><img src="../../images/ic_user.png" alt="" loading="lazy"></figure> 
  <em>홍OO 연구원</em><b>(재난예경보MA팀)</b>
</div>
                        </div>
                        <div class="cmt_txt">
                          <p>반려합니다.</p>
                        </div>
                        <div class="cmt_info">
                          <span class="date">2023-05-23 11:35</span>
                          <button type="button">답글</button>
                        </div>
                        <div class="reply_area">
                          <ul>
                            <li>
                              <div class="cmt_user">
                                <div class="user_module">
  <figure class="user_photo"><img src="../../images/ic_user.png" alt="" loading="lazy"></figure> 
  <em>홍OO 연구원</em><b>(재난예경보MA팀)</b>
</div>
                              </div>
                              <div class="cmt_txt">
                                <p>왜요?</p>
                              </div>
                              <div class="cmt_info">
                                <span class="date">2023-05-23 11:35</span>
                                <button type="button">답글</button>
                              </div>
                            </li>
                            <li>
                              <div class="cmt_user">
                                <div class="user_module">
  <figure class="user_photo"><img src="../../images/ic_user.png" alt="" loading="lazy"></figure> 
  <em>홍OO 연구원</em><b>(재난예경보MA팀)</b>
</div>
                              </div>
                              <div class="cmt_txt">
                                <textarea name="" id="" cols="30" rows="2" title="답글" placeholder="홍길동님에게 답글쓰기"></textarea>
                              </div>
                              <div class="cmt_attach">
                                <button type="button">등록</button>
                              </div>            
                            </li>
                          </ul>
                        </div>
                      </li>
                      <li>
                        <div class="cmt_user">
                          <div class="user_module">
  <figure class="user_photo"><img src="../../images/ic_user.png" alt="" loading="lazy"></figure> 
  <em>홍OO 연구원</em><b>(재난예경보MA팀)</b>
</div>
                          <div class="layer_tool">
                            <button type="button" class="btn_ellipsis" title="더보기">더보기</button>
                            <div class="btn_layer">
                              <button type="button" data-clickevt="modify">수정</button>
                              <button type="button" data-clickevt="del">삭제</button>
                            </div>
                          </div>
                        </div>
                        <div class="cmt_txt">
                          <p>
                            이 댓글은 로그인한 사람이 작성한 글입니다.<br>
                            따라서 우측 상단에 수정과 삭제 버튼을 추가했습니다.<br>
                            댓글이 없을 때는 아래와 같이 보여줍니다.  
                          </p>
                        </div>
                        <div class="cmt_info">
                          <span class="date">2023-05-23 11:35</span>
                          <button type="button">답글</button>
                        </div>
                      </li>
                      <li>
                        작성된 댓글이 없습니다.
                      </li>
                    </ul>
                    <div class="cmt_write" id="cmt_write">
                      <div class="user_module">
                        <figure class="user_photo"><img src="../images/ic_user.png" alt="" loading="lazy"></figure>
                        <em>반미선 책임</em><b>(컨텐츠팀)</b>
                      </div>
                      <div id="reply_input" class="editable" placeholder="댓글을 입력하세요" contenteditable="true" data-tribute="true"></div>
                      <div class="cmt_attach">
                        <div class="file_attach btn_attach">
                          <input id="attachFiles" type="file" data-attach="cmt" name="file" title="파일첨부하기" class="btn_file" multiple="">
                          <div id="file-drop" class="drop_zone">
                            <ul id="cmt" class="attach_list"></ul>
                          </div>
                        </div>
                        <label for="attachFiles" class="btn_label_attach">첨부</label>
                        <button type="button" onclick="submitReply(this)">등록</button>
                      </div>
                    </div>    
                  </section>
                </aside>
              </div>
            `
          var viewWrap = document.getElementById('wrap');
          viewWrap.insertAdjacentElement('afterend', photoWrap);
        };
        var index = $(this).closest('li').index();
        var max = $(this).parents('.album_lst').find('li').length;
        setPhotoView(source,caption,index,max);

    })
    .on('change',':checkbox',function(){
      if(!(list.hasClass('select_mode'))) $('[data-toggle="selMode_on"]').trigger('click');
      $('#sel_count').text(list.find(':checked').length);
    });
    function setPhotoView(source,caption,index,max){
      const photoWrap = document.getElementById('photoWrap');
      $(photoWrap).find('#photo').attr('src',source).next('figcaption').text(caption);
      $(photoWrap).find('.btn_download').attr('href',source);
      $('.total').text(max);
      $('.total').prev('strong').text(index + 1);
      (index <= 0) ? $('.btn_prev').hide():$('.btn_prev').show();
      (index >= max - 1) ? $('.btn_next').hide():$('.btn_next').show();
      photoWrap.showModal();
      $('.cancel').on('click',function(){
        photoWrap.close();
      });
      $('.btn_next').on('click',function(){
        index = index + 1;
        remoteShow(index);
      })
      $('.btn_prev').on('click',function(){
        index = index - 1;
        remoteShow(index);
      })
    }
    function remoteShow(index){
      var target = $('.album_lst').children('li').eq(index);
      source = target.find('img').attr('src');
      caption = target.text();
      setPhotoView(source,caption,index)
    }

  })
</script>

</body>

</html>